(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d65ed"],{"71eb":function(e,a,t){"use strict";t.r(a);var s=t("7a23");const r={class:"flex justify-between",id:"modal-create-account"},o=Object(s["j"])("h1",{class:"text-4xl font-black text-gray-800"}," Crie uma conta ",-1),c={class:"mt-16"},l={class:"block"},n=Object(s["j"])("span",{class:"text-lg font-medium text-gray-800"},"Nome",-1),b={key:0,class:"block font-medium text-brand-danger"},d={class:"block mt-9"},i=Object(s["j"])("span",{class:"text-lg font-medium text-gray-800"},"E-mail",-1),u={key:0,class:"block font-medium text-brand-danger"},j={class:"block mt-9"},m=Object(s["j"])("span",{class:"text-lg font-medium text-gray-800"},"Senha",-1),p={key:0,class:"block font-medium text-brand-danger"},g=["disabled"],O={key:1};function w(e,a,t,w,x,y){const f=Object(s["O"])("icon");return Object(s["F"])(),Object(s["i"])(s["a"],null,[Object(s["j"])("div",r,[o,Object(s["j"])("button",{onClick:a[0]||(a[0]=(...e)=>w.close&&w.close(...e)),class:"text-4xl text-gray-600 focus:outline-none"}," Ã— ")]),Object(s["j"])("div",c,[Object(s["j"])("form",{onSubmit:a[4]||(a[4]=Object(s["db"])((...e)=>w.handleSubmit&&w.handleSubmit(...e),["prevent"]))},[Object(s["j"])("label",l,[n,Object(s["cb"])(Object(s["j"])("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>w.state.name.value=e),type:"text",class:Object(s["w"])([{"border-brand-danger":!!w.state.name.errorMessage},"block w-full px-4 py-3 mt-1 text-lg bg-gray-100 border-2 border-transparent rounded"]),placeholder:"Jone Doe"},null,2),[[s["X"],w.state.name.value]]),w.state.name.errorMessage?(Object(s["F"])(),Object(s["i"])("span",b,Object(s["S"])(w.state.name.errorMessage),1)):Object(s["h"])("",!0)]),Object(s["j"])("label",d,[i,Object(s["cb"])(Object(s["j"])("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>w.state.email.value=e),type:"email",class:Object(s["w"])([{"border-brand-danger":!!w.state.email.errorMessage},"block w-full px-4 py-3 mt-1 text-lg bg-gray-100 border-2 border-transparent rounded"]),placeholder:"jane.dae@gmail.com"},null,2),[[s["X"],w.state.email.value]]),w.state.email.errorMessage?(Object(s["F"])(),Object(s["i"])("span",u,Object(s["S"])(w.state.email.errorMessage),1)):Object(s["h"])("",!0)]),Object(s["j"])("label",j,[m,Object(s["cb"])(Object(s["j"])("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>w.state.password.value=e),type:"password",class:Object(s["w"])([{"border-brand-danger":!!w.state.password.errorMessage},"block w-full px-4 py-3 mt-1 text-lg bg-gray-100 border-2 border-transparent rounded"]),placeholder:"jane.dae@gmail.com"},null,2),[[s["X"],w.state.password.value]]),w.state.password.errorMessage?(Object(s["F"])(),Object(s["i"])("span",p,Object(s["S"])(w.state.password.errorMessage),1)):Object(s["h"])("",!0)]),Object(s["j"])("button",{disabled:w.state.isLoading,type:"submit",class:Object(s["w"])([{"opacity-50":w.state.isLoading},"px-8 py-3 mt-10 text-2xl font-bold text-black rounded-full bg-blue-500 focus:outline-none transition-all duration-150"])},[w.state.isLoading?(Object(s["F"])(),Object(s["g"])(f,{key:0,name:"loading",class:"animate-spin"})):(Object(s["F"])(),Object(s["i"])("span",O,"Entrar"))],10,g)],32)])],64)}t("14d9");var x=t("6605"),y=t("7bb1"),f=t("6c42"),k=t("33a2"),v=t("d010"),h=t("a00a"),M=t("dde5"),S={components:{Icon:v["a"]},setup(){const e=Object(x["d"])(),a=Object(k["a"])(),t=Object(f["c"])(),{value:r,errorMessage:o}=Object(y["a"])("name",h["b"]),{value:c,errorMessage:l}=Object(y["a"])("email",h["a"]),{value:n,errorMessage:b}=Object(y["a"])("password",h["b"]),d=Object(s["J"])({hasErrors:!1,isLoading:!1,name:{value:r,errorMessage:o},email:{value:c,errorMessage:l},password:{value:n,errorMessage:b}});async function i({email:t,password:s}){const{data:r,errors:o}=await M["a"].auth.login({email:t,password:s});o||(window.localStorage.setItem("token",r.token),e.push({name:"Feedbacks"}),a.close()),d.isLoading=!1}async function u(){try{t.clear(),d.isLoading=!0;const{errors:e}=await M["a"].auth.register({name:d.name.value,email:d.email.value,password:d.password.value});if(!e)return void await i({email:d.email.value,password:d.password.value});400===e.status&&t.error("Ocorreu um erro ao criar a conta"),d.isLoading=!1}catch(e){d.isLoading=!1,d.hasErrors=!!e,t.error("Ocorreu um erro ao criar a conta")}}return{state:d,close:a.close,handleSubmit:u}}},L=t("6b0d"),F=t.n(L);const E=F()(S,[["render",w]]);a["default"]=E}}]);
//# sourceMappingURL=chunk-2d0d65ed.b81261be.js.map