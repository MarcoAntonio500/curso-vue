(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21b8f5"],{bffa:function(e,a,t){"use strict";t.r(a);var s=t("7a23");const r={class:"flex justify-between",id:"modal-login"},o=Object(s["j"])("h1",{class:"text-4xl font-black text-gray-800"}," Entre na sua conta ",-1),l={class:"mt-16"},n={class:"block"},c=Object(s["j"])("span",{class:"text-lg font-medium text-gray-800"},"E-mail",-1),d={key:0,id:"email-error",class:"block font-medium text-brand-danger"},b={class:"block mt-9"},i=Object(s["j"])("span",{class:"text-lg font-medium text-gray-800"},"Senha",-1),u={key:0,class:"block font-medium text-brand-danger"},j=["disabled"],m={key:1};function g(e,a,t,g,p,O){const f=Object(s["O"])("icon");return Object(s["F"])(),Object(s["i"])(s["a"],null,[Object(s["j"])("div",r,[o,Object(s["j"])("button",{onClick:a[0]||(a[0]=(...e)=>g.close&&g.close(...e)),class:"text-4xl text-gray-600 focus:outline-none"}," × ")]),Object(s["j"])("div",l,[Object(s["j"])("form",{onSubmit:a[3]||(a[3]=Object(s["db"])((...e)=>g.handleSubmit&&g.handleSubmit(...e),["prevent"]))},[Object(s["j"])("label",n,[c,Object(s["cb"])(Object(s["j"])("input",{id:"email-field","onUpdate:modelValue":a[1]||(a[1]=e=>g.state.email.value=e),type:"email",class:Object(s["w"])([{"border-brand-danger":!!g.state.email.errorMessage},"block w-full px-4 py-3 mt-1 text-lg bg-gray-100 border-2 border-transparent rounded"]),placeholder:"jane.dae@gmail.com"},null,2),[[s["X"],g.state.email.value]]),g.state.email.errorMessage?(Object(s["F"])(),Object(s["i"])("span",d,Object(s["S"])(g.state.email.errorMessage),1)):Object(s["h"])("",!0)]),Object(s["j"])("label",b,[i,Object(s["cb"])(Object(s["j"])("input",{id:"password-field","onUpdate:modelValue":a[2]||(a[2]=e=>g.state.password.value=e),type:"password",class:Object(s["w"])([{"border-brand-danger":!!g.state.password.errorMessage},"block w-full px-4 py-3 mt-1 text-lg bg-gray-100 border-2 border-transparent rounded"]),placeholder:"jane.dae@gmail.com"},null,2),[[s["X"],g.state.password.value]]),g.state.password.errorMessage?(Object(s["F"])(),Object(s["i"])("span",u,Object(s["S"])(g.state.password.errorMessage),1)):Object(s["h"])("",!0)]),Object(s["j"])("button",{id:"submit-button",disabled:g.state.isLoading,type:"submit",class:Object(s["w"])([{"opacity-50":g.state.isLoading},"px-8 py-3 mt-10 text-2xl font-bold text-black rounded-full bg-blue-500 focus:outline-none transition-all duration-150"])},[g.state.isLoading?(Object(s["F"])(),Object(s["g"])(f,{key:0,name:"loading",class:"animate-spin"})):(Object(s["F"])(),Object(s["i"])("span",m,"Entrar"))],10,j)],32)])],64)}t("14d9");var p=t("6605"),O=t("7bb1"),f=t("6c42"),w=t("33a2"),x=t("d010"),y=t("a00a"),k=t("dde5"),h={components:{Icon:x["a"]},setup(){const e=Object(p["d"])(),a=Object(w["a"])(),t=Object(f["c"])(),{value:r,errorMessage:o}=Object(O["a"])("email",y["a"]),{value:l,errorMessage:n}=Object(O["a"])("password",y["b"]),c=Object(s["J"])({hasErrors:!1,isLoading:!1,email:{value:r,errorMessage:o},password:{value:l,errorMessage:n}});async function d(){try{t.clear(),c.isLoading=!0;const{data:s,errors:r}=await k["a"].auth.login({email:c.email.value,password:c.password.value});if(!r)return window.localStorage.setItem("token",s.token),e.push({name:"Feedbacks"}),c.isLoading=!1,void a.close();404===r.status&&t.error("E-mail não encontrado"),401===r.status&&t.error("E-mail/senha inválidos"),400===r.status&&t.error("Ocorreu um erro ao fazer o login"),c.isLoading=!1}catch(s){c.isLoading=!1,c.hasErrors=!!s,t.error("Ocorreu um erro ao fazer o login")}}return{state:c,close:a.close,handleSubmit:d}}},v=t("6b0d"),M=t.n(v);const L=M()(h,[["render",g]]);a["default"]=L}}]);
//# sourceMappingURL=chunk-2d21b8f5.3a7d9bed.js.map